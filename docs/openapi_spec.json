{
    "openapi": "3.1.0",
    "info": {
        "title": "Ontologic API",
        "version": "1.0.0"
    },
    "paths": {
        "/health": {
            "get": {
                "tags": [
                    "health"
                ],
                "summary": "Comprehensive health check",
                "description": "Comprehensive health check with detailed status of all services.\n\nReturns detailed information about:\n- Application status and version\n- Database connectivity\n- Qdrant vector database\n- Redis cache\n- LLM service\n\nReturns 200 if all critical services are healthy, 503 if any are unhealthy.",
                "operationId": "health_check_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Health Check Health Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/health/ready": {
            "get": {
                "tags": [
                    "health"
                ],
                "summary": "Readiness probe",
                "description": "Kubernetes readiness probe.\n\nChecks if the application is ready to serve traffic by verifying\nthat all critical services (database, Qdrant, LLM) are available.\n\nReturns 200 if ready, 503 if not ready.",
                "operationId": "readiness_check_health_ready_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object",
                                    "title": "Response Readiness Check Health Ready Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/health/live": {
            "get": {
                "tags": [
                    "health"
                ],
                "summary": "Liveness probe",
                "description": "Kubernetes liveness probe.\n\nSimple check that the application is running and responsive.\nThis endpoint should always return 200 unless the app is completely dead.\n\nReturns 200 if alive.",
                "operationId": "liveness_check_health_live_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object",
                                    "title": "Response Liveness Check Health Live Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/jwt/login": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Auth:Jwt.Login",
                "operationId": "auth_jwt_login_auth_jwt_login_post",
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_auth_jwt_login_auth_jwt_login_post"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BearerResponse"
                                },
                                "example": {
                                    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiOTIyMWZmYzktNjQwZi00MzcyLTg2ZDMtY2U2NDJjYmE1NjAzIiwiYXVkIjoiZmFzdGFwaS11c2VyczphdXRoIiwiZXhwIjoxNTcxNTA0MTkzfQ.M10bjOe45I5Ncu_uXvOmVV8QxnL-nZfcH96U90JaocI",
                                    "token_type": "bearer"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorModel"
                                },
                                "examples": {
                                    "LOGIN_BAD_CREDENTIALS": {
                                        "summary": "Bad credentials or the user is inactive.",
                                        "value": {
                                            "detail": "LOGIN_BAD_CREDENTIALS"
                                        }
                                    },
                                    "LOGIN_USER_NOT_VERIFIED": {
                                        "summary": "The user is not verified.",
                                        "value": {
                                            "detail": "LOGIN_USER_NOT_VERIFIED"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/jwt/logout": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Auth:Jwt.Logout",
                "operationId": "auth_jwt_logout_auth_jwt_logout_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "401": {
                        "description": "Missing token or inactive user."
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/users/me": {
            "get": {
                "tags": [
                    "users"
                ],
                "summary": "Users:Current User",
                "operationId": "users_current_user_users_me_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRead"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Missing token or inactive user."
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            },
            "patch": {
                "tags": [
                    "users"
                ],
                "summary": "Users:Patch Current User",
                "operationId": "users_patch_current_user_users_me_patch",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserUpdate"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRead"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Missing token or inactive user."
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorModel"
                                },
                                "examples": {
                                    "UPDATE_USER_EMAIL_ALREADY_EXISTS": {
                                        "summary": "A user with this email already exists.",
                                        "value": {
                                            "detail": "UPDATE_USER_EMAIL_ALREADY_EXISTS"
                                        }
                                    },
                                    "UPDATE_USER_INVALID_PASSWORD": {
                                        "summary": "Password validation failed.",
                                        "value": {
                                            "detail": {
                                                "code": "UPDATE_USER_INVALID_PASSWORD",
                                                "reason": "Password should beat least 3 characters"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/users/{id}": {
            "get": {
                "tags": [
                    "users"
                ],
                "summary": "Users:User",
                "operationId": "users_user_users__id__get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRead"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Missing token or inactive user."
                    },
                    "403": {
                        "description": "Not a superuser."
                    },
                    "404": {
                        "description": "The user does not exist."
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "users"
                ],
                "summary": "Users:Patch User",
                "operationId": "users_patch_user_users__id__patch",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRead"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Missing token or inactive user."
                    },
                    "403": {
                        "description": "Not a superuser."
                    },
                    "404": {
                        "description": "The user does not exist."
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "UPDATE_USER_EMAIL_ALREADY_EXISTS": {
                                        "summary": "A user with this email already exists.",
                                        "value": {
                                            "detail": "UPDATE_USER_EMAIL_ALREADY_EXISTS"
                                        }
                                    },
                                    "UPDATE_USER_INVALID_PASSWORD": {
                                        "summary": "Password validation failed.",
                                        "value": {
                                            "detail": {
                                                "code": "UPDATE_USER_INVALID_PASSWORD",
                                                "reason": "Password should beat least 3 characters"
                                            }
                                        }
                                    }
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorModel"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "users"
                ],
                "summary": "Users:Delete User",
                "operationId": "users_delete_user_users__id__delete",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Id"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "401": {
                        "description": "Missing token or inactive user."
                    },
                    "403": {
                        "description": "Not a superuser."
                    },
                    "404": {
                        "description": "The user does not exist."
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Register:Register",
                "operationId": "register_register_auth_register_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserCreate"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRead"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorModel"
                                },
                                "examples": {
                                    "REGISTER_USER_ALREADY_EXISTS": {
                                        "summary": "A user with this email already exists.",
                                        "value": {
                                            "detail": "REGISTER_USER_ALREADY_EXISTS"
                                        }
                                    },
                                    "REGISTER_INVALID_PASSWORD": {
                                        "summary": "Password validation failed.",
                                        "value": {
                                            "detail": {
                                                "code": "REGISTER_INVALID_PASSWORD",
                                                "reason": "Password should beat least 3 characters"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/forgot-password": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Reset:Forgot Password",
                "operationId": "reset_forgot_password_auth_forgot_password_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_reset_forgot_password_auth_forgot_password_post"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "202": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/reset-password": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Reset:Reset Password",
                "operationId": "reset_reset_password_auth_reset_password_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_reset_reset_password_auth_reset_password_post"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorModel"
                                },
                                "examples": {
                                    "RESET_PASSWORD_BAD_TOKEN": {
                                        "summary": "Bad or expired token.",
                                        "value": {
                                            "detail": "RESET_PASSWORD_BAD_TOKEN"
                                        }
                                    },
                                    "RESET_PASSWORD_INVALID_PASSWORD": {
                                        "summary": "Password validation failed.",
                                        "value": {
                                            "detail": {
                                                "code": "RESET_PASSWORD_INVALID_PASSWORD",
                                                "reason": "Password should be at least 3 characters"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/request-verify-token": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Verify:Request-Token",
                "operationId": "verify_request_token_auth_request_verify_token_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_verify_request_token_auth_request_verify_token_post"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "202": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/verify": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Verify:Verify",
                "operationId": "verify_verify_auth_verify_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_verify_verify_auth_verify_post"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRead"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorModel"
                                },
                                "examples": {
                                    "VERIFY_USER_BAD_TOKEN": {
                                        "summary": "Bad token, not existing user ornot the e-mail currently set for the user.",
                                        "value": {
                                            "detail": "VERIFY_USER_BAD_TOKEN"
                                        }
                                    },
                                    "VERIFY_USER_ALREADY_VERIFIED": {
                                        "summary": "The user is already verified.",
                                        "value": {
                                            "detail": "VERIFY_USER_ALREADY_VERIFIED"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/ask": {
            "get": {
                "summary": "Ask The Base Model A Question",
                "operationId": "ask_the_base_model_a_question_ask_get",
                "parameters": [
                    {
                        "name": "query_str",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Query Str"
                        }
                    },
                    {
                        "name": "temperature",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "exclusiveMaximum": 1,
                            "exclusiveMinimum": 0,
                            "default": 0.3,
                            "title": "Temperature"
                        }
                    },
                    {
                        "name": "timeout",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 180,
                            "minimum": 5,
                            "default": 90,
                            "title": "Timeout"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/ask/stream": {
            "get": {
                "summary": "Ask The Base Model A Question Stream",
                "description": "Stream LLM response for real-time text generation with caching support.",
                "operationId": "ask_the_base_model_a_question_stream_ask_stream_get",
                "parameters": [
                    {
                        "name": "query_str",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Query Str"
                        }
                    },
                    {
                        "name": "temperature",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "exclusiveMaximum": 1,
                            "exclusiveMinimum": 0,
                            "default": 0.3,
                            "title": "Temperature"
                        }
                    },
                    {
                        "name": "timeout",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 180,
                            "minimum": 5,
                            "default": 90,
                            "title": "Timeout"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/get_philosophers": {
            "get": {
                "summary": "Get Available Philosophers",
                "operationId": "get_available_philosophers_get_philosophers_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array",
                                    "title": "Response Get Available Philosophers Get Philosophers Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/ask_philosophy": {
            "post": {
                "summary": "Ask A Philosophy Question",
                "operationId": "ask_a_philosophy_question_ask_philosophy_post",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "refeed",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, the text content of meta_nodes is used to refine and retrieve more specific nodes from sub-collection.",
                            "default": true,
                            "title": "Refeed"
                        },
                        "description": "If true, the text content of meta_nodes is used to refine and retrieve more specific nodes from sub-collection."
                    },
                    {
                        "name": "immersive",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, the LLM will respond from the perspective of the philosopher, using their style and knowledge.",
                            "default": false,
                            "title": "Immersive"
                        },
                        "description": "If true, the LLM will respond from the perspective of the philosopher, using their style and knowledge."
                    },
                    {
                        "name": "temperature",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "exclusiveMaximum": 1,
                            "exclusiveMinimum": 0,
                            "default": 0.3,
                            "title": "Temperature"
                        }
                    },
                    {
                        "name": "prompt_type",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Optional prompt style override: adaptive | writer_academic | reviewer",
                            "title": "Prompt Type"
                        },
                        "description": "Optional prompt style override: adaptive | writer_academic | reviewer"
                    },
                    {
                        "name": "session_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Optional session ID for chat history tracking",
                            "title": "Session Id"
                        },
                        "description": "Optional session ID for chat history tracking"
                    },
                    {
                        "name": "include_pdf_context",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, search authenticated user's uploaded documents for relevant context. Requires JWT authentication.",
                            "default": false,
                            "title": "Include Pdf Context"
                        },
                        "description": "If true, search authenticated user's uploaded documents for relevant context. Requires JWT authentication."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/HybridQueryRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AskPhilosophyResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/ask_philosophy/stream": {
            "post": {
                "summary": "Ask A Philosophy Question Stream",
                "description": "Stream philosophy question response for real-time text generation.",
                "operationId": "ask_a_philosophy_question_stream_ask_philosophy_stream_post",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "refeed",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, the text content of meta_nodes is used to refine and retrieve more specific nodes from sub-collection.",
                            "default": true,
                            "title": "Refeed"
                        },
                        "description": "If true, the text content of meta_nodes is used to refine and retrieve more specific nodes from sub-collection."
                    },
                    {
                        "name": "immersive",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, the LLM will respond from the perspective of the philosopher, using their style and knowledge.",
                            "default": false,
                            "title": "Immersive"
                        },
                        "description": "If true, the LLM will respond from the perspective of the philosopher, using their style and knowledge."
                    },
                    {
                        "name": "temperature",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "exclusiveMaximum": 1,
                            "exclusiveMinimum": 0,
                            "default": 0.3,
                            "title": "Temperature"
                        }
                    },
                    {
                        "name": "prompt_type",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Optional prompt style override: adaptive | writer_academic | reviewer",
                            "title": "Prompt Type"
                        },
                        "description": "Optional prompt style override: adaptive | writer_academic | reviewer"
                    },
                    {
                        "name": "session_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Optional session ID for chat history tracking",
                            "title": "Session Id"
                        },
                        "description": "Optional session ID for chat history tracking"
                    },
                    {
                        "name": "include_pdf_context",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, search authenticated user's uploaded documents for relevant context. Requires JWT authentication.",
                            "default": false,
                            "title": "Include Pdf Context"
                        },
                        "description": "If true, search authenticated user's uploaded documents for relevant context. Requires JWT authentication."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/HybridQueryRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/query_hybrid": {
            "post": {
                "summary": "Gather Points From Collections",
                "operationId": "gather_points_from_collections_query_hybrid_post",
                "parameters": [
                    {
                        "name": "vet_mode",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, the LLM will select the most relevant node IDs from the results and return them as a response. Mutually exclusive with raw_mode.",
                            "default": false,
                            "title": "Vet Mode"
                        },
                        "description": "If true, the LLM will select the most relevant node IDs from the results and return them as a response. Mutually exclusive with raw_mode."
                    },
                    {
                        "name": "raw_mode",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, nodes are returned in dict format with collection name as keys, and nodes along with the associated vector type as values. Mutually exclusive with vet_mode.",
                            "default": false,
                            "title": "Raw Mode"
                        },
                        "description": "If true, nodes are returned in dict format with collection name as keys, and nodes along with the associated vector type as values. Mutually exclusive with vet_mode."
                    },
                    {
                        "name": "refeed",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "If true, meta_nodes are first retrieved and used to refine and retrieve more specific nodes from sub-collection (if available).",
                            "default": true,
                            "title": "Refeed"
                        },
                        "description": "If true, meta_nodes are first retrieved and used to refine and retrieve more specific nodes from sub-collection (if available)."
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Maximum number of nodes to return. Default is 10, maximum is 100.",
                            "default": 10,
                            "title": "Limit"
                        },
                        "description": "Maximum number of nodes to return. Default is 10, maximum is 100."
                    },
                    {
                        "name": "temperature",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "exclusiveMaximum": 1,
                            "exclusiveMinimum": 0,
                            "default": 0.3,
                            "title": "Temperature"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/HybridQueryRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/create": {
            "post": {
                "tags": [
                    "workflows"
                ],
                "summary": "Create Draft",
                "description": "Create a new paper draft.\n\nInitializes a new draft with the specified configuration and returns\na unique draft ID for subsequent operations.",
                "operationId": "create_draft_workflows_create_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateDraftRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DraftCreatedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/{draft_id}/generate": {
            "post": {
                "tags": [
                    "workflows"
                ],
                "summary": "Generate Sections",
                "description": "Generate content for specified sections of a paper draft.\n\nUses advanced retrieval with query expansion and the configured\nprompt templates (academic or immersive mode) to generate\nhigh-quality philosophical content.",
                "operationId": "generate_sections_workflows__draft_id__generate_post",
                "parameters": [
                    {
                        "name": "draft_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Draft Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/GenerateSectionsRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SectionGenerationResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/{draft_id}/status": {
            "get": {
                "tags": [
                    "workflows"
                ],
                "summary": "Get Draft Status",
                "description": "Get comprehensive status information for a draft.\n\nReturns draft metadata, generation progress, section content,\nreview status, and suggestion counts.",
                "operationId": "get_draft_status_workflows__draft_id__status_get",
                "parameters": [
                    {
                        "name": "draft_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Draft Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DraftStatusResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/{draft_id}/ai-review": {
            "post": {
                "tags": [
                    "workflows"
                ],
                "summary": "Ai Review Draft",
                "description": "Perform comprehensive AI review of a paper draft.\n\nImplements Chain-of-Verification, Self-RAG, and evidence-based\nreview to generate actionable suggestions with blocking flags.\nUses query expansion to gather supporting evidence.",
                "operationId": "ai_review_draft_workflows__draft_id__ai_review_post",
                "parameters": [
                    {
                        "name": "draft_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Draft Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ReviewDraftRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReviewResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/{draft_id}/apply": {
            "post": {
                "tags": [
                    "workflows"
                ],
                "summary": "Apply Suggestions",
                "description": "Apply review suggestions to a draft.\n\nSupports selective application by section, suggestion ID,\nor accepting all suggestions. Updates the draft content\nbased on the review recommendations.",
                "operationId": "apply_suggestions_workflows__draft_id__apply_post",
                "parameters": [
                    {
                        "name": "draft_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Draft Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ApplySuggestionsRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/{draft_id}/review": {
            "get": {
                "tags": [
                    "workflows"
                ],
                "summary": "Get Review Data",
                "description": "Get detailed review data for a draft.",
                "operationId": "get_review_data_workflows__draft_id__review_get",
                "parameters": [
                    {
                        "name": "draft_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Draft Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/": {
            "get": {
                "tags": [
                    "workflows"
                ],
                "summary": "List Drafts",
                "description": "List drafts with optional filtering.",
                "operationId": "list_drafts_workflows__get",
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Number of drafts to return",
                            "default": 10,
                            "title": "Limit"
                        },
                        "description": "Number of drafts to return"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Number of drafts to skip",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Number of drafts to skip"
                    },
                    {
                        "name": "status_filter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filter by status",
                            "title": "Status Filter"
                        },
                        "description": "Filter by status"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/workflows/health": {
            "get": {
                "tags": [
                    "workflows"
                ],
                "summary": "Health Check",
                "description": "Check workflow system health.",
                "operationId": "health_check_workflows_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/admin/backup/health": {
        "/admin/backup/health": {
            "get": {
                "tags": [
                    "backup"
                ],
                "summary": "Backup Health Check",
                "description": "Check the health of backup service connections.\n\nReturns:\n    Health status of production and local Qdrant connections",
                "operationId": "backup_health_check_admin_backup_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        },
        "/documents/upload": {
            "post": {
                "tags": [
                    "documents"
                ],
                "summary": "Upload Document",
                "description": "Upload a document (PDF, Markdown, DOCX, or TXT) to user's Qdrant collection.\n\nThe document will be parsed, chunked semantically, embedded, and stored\nin a user-specific collection for later retrieval during chat.\n\n**SECURITY**: Requires JWT authentication. Username is automatically extracted\nfrom the authenticated user's token.\n\nArgs:\n    file: Document file to upload\n    user: Authenticated user (automatically injected from JWT token)\n    qdrant_manager: Injected Qdrant manager dependency\n\nReturns:\n    Upload result with file_id and metadata\n\nRaises:\n    HTTPException: If upload fails or validation errors occur",
                "operationId": "upload_document_documents_upload_post",
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_upload_document_documents_upload_post"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DocumentUploadResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/documents/list": {
            "get": {
                "tags": [
                    "documents"
                ],
                "summary": "List Documents",
                "description": "List all documents uploaded by the authenticated user.\n\n**SECURITY**: Requires JWT authentication. Only returns documents uploaded by\nthe authenticated user.\n\nArgs:\n    user: Authenticated user (automatically injected from JWT token)\n    limit: Maximum number of documents to return\n    offset: Number of documents to skip for pagination\n    qdrant_manager: Injected Qdrant manager dependency\n\nReturns:\n    List of documents with metadata\n\nRaises:\n    HTTPException: If listing fails",
                "operationId": "list_documents_documents_list_get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Maximum number of documents to return",
                            "default": 20,
                            "title": "Limit"
                        },
                        "description": "Maximum number of documents to return"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Number of documents to skip",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Number of documents to skip"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DocumentListResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/documents/{file_id}": {
            "delete": {
                "tags": [
                    "documents"
                ],
                "summary": "Delete Document",
                "description": "Delete a document and all its chunks from user's collection.\n\n**SECURITY**: Requires JWT authentication. Users can only delete their own documents.\nThe document owner is verified against the authenticated user's username.\n\nArgs:\n    file_id: Unique identifier of the file to delete\n    user: Authenticated user (automatically injected from JWT token)\n    qdrant_manager: Injected Qdrant manager dependency\n\nReturns:\n    Deletion confirmation with chunks deleted count\n\nRaises:\n    HTTPException: If deletion fails or unauthorized",
                "operationId": "delete_document_documents__file_id__delete",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "file_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "File Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DocumentDeleteResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/providers": {
            "get": {
                "tags": [
                    "authentication"
                ],
                "summary": "Get Auth Providers",
                "description": "Get available OAuth providers.\n\nReturns empty dict if OAuth is disabled, maintaining public access.",
                "operationId": "get_auth_providers_auth_providers_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/auth/session": {
            "post": {
                "tags": [
                    "authentication"
                ],
                "summary": "Create Session",
                "description": "Create an anonymous session for tracking purposes.\n\nThis enables features like temporary chat history without requiring authentication.",
                "operationId": "create_session_auth_session_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/auth/session/{session_id}": {
            "get": {
                "tags": [
                    "authentication"
                ],
                "summary": "Get Session Info",
                "description": "Get information about a session.",
                "operationId": "get_session_info_auth_session__session_id__get",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "authentication"
                ],
                "summary": "Logout Session",
                "description": "Logout/destroy a session.",
                "operationId": "logout_session_auth_session__session_id__delete",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/{provider}": {
            "get": {
                "tags": [
                    "authentication",
                    "authentication",
                    "experimental"
                ],
                "summary": "OAuth Login (EXPERIMENTAL - NOT PRODUCTION READY)",
                "description": "Initiate OAuth login flow for a provider.\n\n**\u26a0\ufe0f EXPERIMENTAL - NOT PRODUCTION READY \u26a0\ufe0f**\n\nThis endpoint is a placeholder and automatically blocked in production environments.\nSee OpenAPI schema for security requirements.",
                "operationId": "oauth_login_auth__provider__get",
                "deprecated": true,
                "parameters": [
                    {
                        "name": "provider",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Provider"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Always returns placeholder - OAuth not implemented",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "503": {
                        "description": "Service Unavailable - Blocked in production environments or OAuth disabled",
                        "content": {
                            "application/json": {
                                "example": {
                                    "detail": {
                                        "error": "service_unavailable",
                                        "message": "OAuth authentication is disabled in production. This endpoint requires full OAuth 2.0 implementation including secure authorization flow, state parameter management, and provider integration.",
                                        "service": "OAuth Login",
                                        "request_id": "req_123456"
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/{provider}/callback": {
            "get": {
                "tags": [
                    "authentication",
                    "authentication",
                    "experimental"
                ],
                "summary": "OAuth Callback (EXPERIMENTAL - NOT PRODUCTION READY)",
                "description": "Handle OAuth callback from provider.\n\n**\u26a0\ufe0f EXPERIMENTAL - NOT PRODUCTION READY \u26a0\ufe0f**\n\nThis endpoint is a placeholder for OAuth 2.0 authentication flow and should\nNOT be used in production environments. It lacks critical security features:\n\n**Missing Security Requirements:**\n- \u274c State parameter validation (CSRF protection)\n- \u274c Secure token exchange with provider\n- \u274c User info retrieval and validation\n- \u274c Proper JWT signing and session management\n- \u274c Token storage and refresh token handling\n- \u274c Provider-specific configuration and secrets\n\n**Production Behavior:**\nIn production environments (env=prod/production), this endpoint will always\nreturn 503 Service Unavailable to prevent accidental use.\n\n**Development Use:**\nIn development, the endpoint returns 501 Not Implemented to indicate the\nOAuth flow is not yet complete.\n\n**Implementation Checklist:**\nBefore enabling in production, implement:\n1. OAuth 2.0 authorization code flow with state parameter\n2. Secure token exchange and validation\n3. User profile retrieval from OAuth provider\n4. Proper session creation with secure JWT tokens\n5. Refresh token handling and storage\n6. Rate limiting and abuse prevention\n7. Comprehensive security testing\n\nArgs:\n    request: FastAPI request object\n    provider: OAuth provider name (e.g., \"google\", \"github\")\n    code: Authorization code from OAuth provider\n\nReturns:\n    HTTPException: Always returns error (503 in prod, 501 in dev)\n\nRaises:\n    HTTPException: 503 if production, 501 if not implemented, 400 if invalid",
                "operationId": "oauth_callback_auth__provider__callback_get",
                "deprecated": true,
                "parameters": [
                    {
                        "name": "provider",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Provider"
                        }
                    },
                    {
                        "name": "code",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Code"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Always returns error - OAuth not implemented",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "503": {
                        "description": "Service Unavailable - Blocked in production environments",
                        "content": {
                            "application/json": {
                                "example": {
                                    "detail": {
                                        "error": "service_unavailable",
                                        "message": "OAuth authentication is disabled in production. This endpoint requires full OAuth 2.0 implementation including secure token exchange, state validation, and proper session management.",
                                        "service": "OAuth Callback",
                                        "request_id": "req_123456"
                                    }
                                }
                            }
                        }
                    },
                    "501": {
                        "description": "Not Implemented - OAuth flow incomplete",
                        "content": {
                            "application/json": {
                                "example": {
                                    "detail": {
                                        "error": "internal_error",
                                        "error_type": "not_implemented",
                                        "message": "OAuth callback not implemented. This is a development placeholder. Required implementation: secure token exchange, state validation, user profile retrieval, and session management.",
                                        "request_id": "req_123456"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request - Missing authorization code",
                        "content": {
                            "application/json": {
                                "example": {
                                    "detail": {
                                        "error": "validation_error",
                                        "field": "code",
                                        "message": "No authorization code provided by OAuth provider",
                                        "request_id": "req_123456"
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/": {
            "get": {
                "tags": [
                    "authentication"
                ],
                "summary": "Auth Status",
                "description": "Get overall authentication system status.",
                "operationId": "auth_status_auth__get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/chat/message": {
            "post": {
                "tags": [
                    "Chat History"
                ],
                "summary": "Store a chat message",
                "description": "Store a new chat message in the history database.\n\n    This endpoint persists chat messages to both PostgreSQL and Qdrant vector database\n    with proper session isolation and optional username tracking.\n\n    **Privacy**: Messages are isolated by session_id.\n    **Username tracking**: Optional username parameter for multi-user support.",
                "operationId": "store_chat_message_chat_message_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChatMessageRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ChatMessageResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/history/{session_id}": {
            "get": {
                "tags": [
                    "Chat History"
                ],
                "summary": "Get chat history for a session",
                "description": "Retrieve paginated conversation history for a specific session.\n\n    This endpoint returns all messages for a given session with proper pagination\n    and privacy isolation. Only messages belonging to the specified session are returned.\n\n    **Privacy**: Messages are strictly filtered by session_id to ensure complete\n    privacy isolation between different users/sessions.\n    **Username filtering**: Optional username parameter for user-specific filtering.",
                "operationId": "get_chat_history_chat_history__session_id__get",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Session identifier for privacy isolation",
                            "title": "Session Id"
                        },
                        "description": "Session identifier for privacy isolation"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Maximum number of messages to return",
                            "default": 50,
                            "title": "Limit"
                        },
                        "description": "Maximum number of messages to return"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Number of messages to skip for pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Number of messages to skip for pagination"
                    },
                    {
                        "name": "conversation_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Optional specific conversation filter",
                            "title": "Conversation Id"
                        },
                        "description": "Optional specific conversation filter"
                    },
                    {
                        "name": "username",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Optional username for user-specific filtering",
                            "title": "Username"
                        },
                        "description": "Optional username for user-specific filtering"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ChatHistoryResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Chat History"
                ],
                "summary": "Delete chat history for a session",
                "description": "Delete all chat history for a specific session.\n    \n    This endpoint removes all conversations and messages for the given session\n    from both PostgreSQL and Qdrant vector database. The operation is irreversible.\n    \n    **Privacy**: Only data belonging to the specified session is deleted.\n    **Cleanup**: Removes data from both structured (PostgreSQL) and vector (Qdrant) storage.",
                "operationId": "delete_chat_history_chat_history__session_id__delete",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Session identifier for history deletion",
                            "title": "Session Id"
                        },
                        "description": "Session identifier for history deletion"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ChatDeletionResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/search": {
            "post": {
                "tags": [
                    "Chat History"
                ],
                "summary": "Search chat history",
                "description": "Perform semantic search across chat history for a specific session.\n    \n    This endpoint uses vector similarity search to find relevant messages based on\n    content similarity. Results are ranked by relevance score and strictly filtered\n    by session_id to ensure privacy isolation.\n    \n    **Privacy**: Search results are limited to the specified session only.\n    **Performance**: Results are cached and optimized for fast retrieval.",
                "operationId": "search_chat_history_chat_search_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChatSearchRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ChatSearchResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/conversations/{session_id}": {
            "get": {
                "tags": [
                    "Chat History"
                ],
                "summary": "Get conversations for a session",
                "description": "Retrieve a list of conversations for a specific session with metadata.\n    \n    This endpoint returns conversation summaries including message counts,\n    timestamps, and associated philosopher collections. Results are paginated\n    and ordered by most recent activity.\n    \n    **Privacy**: Only conversations belonging to the specified session are returned.\n    **Metadata**: Includes conversation titles, message counts, and activity timestamps.",
                "operationId": "get_conversations_chat_conversations__session_id__get",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Session identifier for privacy isolation",
                            "title": "Session Id"
                        },
                        "description": "Session identifier for privacy isolation"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 50,
                            "minimum": 1,
                            "description": "Maximum number of conversations to return",
                            "default": 20,
                            "title": "Limit"
                        },
                        "description": "Maximum number of conversations to return"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Number of conversations to skip for pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Number of conversations to skip for pagination"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ChatConversationsResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/config/status": {
            "get": {
                "tags": [
                    "chat-config"
                ],
                "summary": "Get chat history feature status",
                "description": "Get the current status and configuration of the chat history feature.\n\nReturns:\n    Dictionary with feature status and configuration details",
                "operationId": "get_chat_status_chat_config_status_get",
                "parameters": [
                    {
                        "name": "settings",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "title": "Settings"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true,
                                    "title": "Response Get Chat Status Chat Config Status Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/config/cleanup/stats": {
            "get": {
                "tags": [
                    "chat-config"
                ],
                "summary": "Get cleanup statistics",
                "description": "Get statistics about data that would be cleaned up based on retention policy.\nThis is a dry run that shows what cleanup would delete without actually deleting anything.\n\nReturns:\n    Statistics about expired data",
                "operationId": "get_cleanup_stats_chat_config_cleanup_stats_get",
                "parameters": [
                    {
                        "name": "settings",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "title": "Settings"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true,
                                    "title": "Response Get Cleanup Stats Chat Config Cleanup Stats Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/config/cleanup/run": {
            "post": {
                "tags": [
                    "chat-config"
                ],
                "summary": "Run cleanup operation",
                "description": "Run the cleanup operation to remove expired chat history data.\n\n**WARNING**: This operation permanently deletes data and cannot be undone.\n\nArgs:\n    force: If True, skip safety checks and run cleanup immediately\n    \nReturns:\n    Results of the cleanup operation",
                "operationId": "run_cleanup_chat_config_cleanup_run_post",
                "parameters": [
                    {
                        "name": "force",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "Skip safety checks and run cleanup immediately",
                            "default": false,
                            "title": "Force"
                        },
                        "description": "Skip safety checks and run cleanup immediately"
                    },
                    {
                        "name": "settings",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "title": "Settings"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CleanupResultResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/config/session/{session_id}": {
            "delete": {
                "tags": [
                    "chat-config"
                ],
                "summary": "Delete session data",
                "description": "Delete all chat history data for a specific session.\n\n**WARNING**: This operation permanently deletes all conversation data for the session.\n\nArgs:\n    session_id: The session ID to delete data for\n    \nReturns:\n    Results of the deletion operation",
                "operationId": "delete_session_data_chat_config_session__session_id__delete",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    },
                    {
                        "name": "settings",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "title": "Settings"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SessionCleanupResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/config/environment": {
            "get": {
                "tags": [
                    "chat-config"
                ],
                "summary": "Get environment-specific configuration",
                "description": "Get environment-specific configuration details.\n\nReturns:\n    Environment configuration including collection names and settings",
                "operationId": "get_environment_config_chat_config_environment_get",
                "parameters": [
                    {
                        "name": "settings",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "title": "Settings"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true,
                                    "title": "Response Get Environment Config Chat Config Environment Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/status": {
            "get": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Get overall chat system health status",
                "description": "Get comprehensive health status of the chat history system.\n\nReturns:\n    Dictionary with health status of all chat components",
                "operationId": "get_chat_health_status_chat_health_status_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Get Chat Health Status Chat Health Status Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/database": {
            "get": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Get database health status",
                "description": "Get PostgreSQL database health status for chat history.\n\nReturns:\n    Database health check results",
                "operationId": "get_database_health_chat_health_database_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Get Database Health Chat Health Database Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/qdrant": {
            "get": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Get Qdrant vector database health status",
                "description": "Get Qdrant vector database health status for chat history.\n\nReturns:\n    Qdrant health check results",
                "operationId": "get_qdrant_health_chat_health_qdrant_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Get Qdrant Health Chat Health Qdrant Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/errors": {
            "get": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Get error rate and statistics",
                "description": "Get error statistics and rates for chat operations.\n\nReturns:\n    Error statistics and health status",
                "operationId": "get_error_statistics_chat_health_errors_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Get Error Statistics Chat Health Errors Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/privacy": {
            "get": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Get privacy compliance status",
                "description": "Get privacy compliance status and violation reports.\n\nReturns:\n    Privacy compliance health check results",
                "operationId": "get_privacy_compliance_chat_health_privacy_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Get Privacy Compliance Chat Health Privacy Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/metrics": {
            "get": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Get performance metrics",
                "description": "Get performance metrics for the specified time period.\n\nArgs:\n    hours: Number of hours to include in metrics (1-168)\n\nReturns:\n    Performance metrics summary",
                "operationId": "get_performance_metrics_chat_health_metrics_get",
                "parameters": [
                    {
                        "name": "hours",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 168,
                            "minimum": 1,
                            "description": "Time period in hours (max 7 days)",
                            "default": 24,
                            "title": "Hours"
                        },
                        "description": "Time period in hours (max 7 days)"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true,
                                    "title": "Response Get Performance Metrics Chat Health Metrics Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/monitoring": {
            "get": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Get monitoring service status",
                "description": "Get status of the monitoring service itself.\n\nReturns:\n    Monitoring service status and statistics",
                "operationId": "get_monitoring_status_chat_health_monitoring_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Get Monitoring Status Chat Health Monitoring Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/health/cleanup": {
            "post": {
                "tags": [
                    "Chat Health"
                ],
                "summary": "Trigger monitoring data cleanup",
                "description": "Manually trigger cleanup of old monitoring data.\n\nReturns:\n    Cleanup operation result",
                "operationId": "trigger_cleanup_chat_health_cleanup_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Trigger Cleanup Chat Health Cleanup Post"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/payments/checkout": {
            "post": {
                "tags": [
                    "payments"
                ],
                "summary": "Create Checkout Session",
                "description": "Create a Stripe checkout session for subscription purchase.\n\nRequires authentication. Creates a checkout session that redirects the user\nto Stripe's hosted checkout page for secure payment processing.",
                "operationId": "create_checkout_session_payments_checkout_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CheckoutRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CheckoutResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/payments/subscription": {
            "get": {
                "tags": [
                    "payments"
                ],
                "summary": "Get Subscription",
                "description": "Get current user's subscription information.\n\nReturns subscription details including tier, status, and billing period.",
                "operationId": "get_subscription_payments_subscription_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SubscriptionResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/payments/subscription/cancel": {
            "post": {
                "tags": [
                    "payments"
                ],
                "summary": "Cancel Subscription",
                "description": "Cancel current user's subscription.\n\nCancels the subscription at the end of the current billing period.\nUser retains access until the period ends.",
                "operationId": "cancel_subscription_payments_subscription_cancel_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Cancel Subscription Payments Subscription Cancel Post"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/payments/usage": {
            "get": {
                "tags": [
                    "payments"
                ],
                "summary": "Get Usage Stats",
                "description": "Get current user's usage statistics for the current billing period.\n\nReturns API usage, token consumption, and limits based on subscription tier.",
                "operationId": "get_usage_stats_payments_usage_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UsageStats"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/payments/billing/history": {
            "get": {
                "tags": [
                    "payments"
                ],
                "summary": "Get Billing History",
                "description": "Get user's billing history with pagination.\n\nReturns a list of past payments and transactions.",
                "operationId": "get_billing_history_payments_billing_history_get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 50,
                            "title": "Limit"
                        }
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 0,
                            "title": "Offset"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BillingHistoryResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/payments/subscription/limits": {
            "get": {
                "tags": [
                    "payments"
                ],
                "summary": "Get Subscription Limits",
                "description": "Get current user's subscription limits and status.\n\nReturns detailed information about subscription tier, limits, and available features.",
                "operationId": "get_subscription_limits_payments_subscription_limits_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SubscriptionLimits"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/payments/billing/invoices/{invoice_id}/download": {
            "get": {
                "tags": [
                    "payments"
                ],
                "summary": "Download Invoice",
                "description": "Generate a temporary download URL for an invoice PDF.\n\nReturns a secure, time-limited URL for downloading the invoice.",
                "operationId": "download_invoice_payments_billing_invoices__invoice_id__download_get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "invoice_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Invoice Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InvoiceResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/payments/billing/dashboard": {
            "get": {
                "tags": [
                    "payments"
                ],
                "summary": "Get Billing Dashboard",
                "description": "Get comprehensive billing dashboard data.\n\nReturns subscription info, usage stats, recent billing history, and limits.",
                "operationId": "get_billing_dashboard_payments_billing_dashboard_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response Get Billing Dashboard Payments Billing Dashboard Get"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/payments/webhooks/stripe": {
            "post": {
                "tags": [
                    "payments"
                ],
                "summary": "Handle Stripe Webhook",
                "description": "Handle Stripe webhook events.\n\nProcesses subscription lifecycle events and payment notifications.\nValidates webhook signature for security.",
                "operationId": "handle_stripe_webhook_payments_webhooks_stripe_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WebhookResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/payments/refunds": {
            "post": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Initiate Refund",
                "description": "Initiate a refund for a payment with comprehensive tracking.\n\nAdmin-only endpoint for processing refunds with automatic subscription\nadjustments and audit logging.",
                "operationId": "initiate_refund_admin_payments_refunds_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RefundRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RefundResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/admin/payments/refunds/{refund_id}": {
            "get": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Get Refund Details",
                "description": "Get detailed information about a specific refund.\n\nAdmin-only endpoint for viewing refund status and details.",
                "operationId": "get_refund_details_admin_payments_refunds__refund_id__get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "refund_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Refund Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RefundResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/payments/users/{user_id}/refunds": {
            "get": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Get User Refunds",
                "description": "Get all refunds for a specific user.\n\nAdmin-only endpoint for viewing user's refund history.",
                "operationId": "get_user_refunds_admin_payments_users__user_id__refunds_get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "User Id"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 50,
                            "title": "Limit"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/RefundResponse"
                                    },
                                    "title": "Response Get User Refunds Admin Payments Users  User Id  Refunds Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/payments/disputes/{dispute_id}": {
            "get": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Get Dispute Details",
                "description": "Get detailed information about a specific dispute.\n\nAdmin-only endpoint for viewing dispute status and details.",
                "operationId": "get_dispute_details_admin_payments_disputes__dispute_id__get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "dispute_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Dispute Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DisputeResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/payments/disputes/{dispute_id}/evidence": {
            "post": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Submit Dispute Evidence",
                "description": "Submit evidence for a dispute.\n\nAdmin-only endpoint for submitting evidence to Stripe for dispute resolution.",
                "operationId": "submit_dispute_evidence_admin_payments_disputes__dispute_id__evidence_post",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "dispute_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Dispute Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DisputeEvidenceRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DisputeResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/payments/disputes/{dispute_id}/resolve": {
            "post": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Resolve Dispute",
                "description": "Resolve a dispute and optionally lift account suspension.\n\nAdmin-only endpoint for marking disputes as resolved and managing account status.",
                "operationId": "resolve_dispute_admin_payments_disputes__dispute_id__resolve_post",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "dispute_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Dispute Id"
                        }
                    },
                    {
                        "name": "resolution",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Resolution"
                        }
                    },
                    {
                        "name": "lift_suspension",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": true,
                            "title": "Lift Suspension"
                        }
                    },
                    {
                        "name": "admin_notes",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Admin Notes"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DisputeResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/payments/subscriptions/override": {
            "post": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Override Subscription",
                "description": "Override user subscription settings.\n\nAdmin-only endpoint for manually adjusting user subscriptions, extending periods,\nor changing tiers outside of normal billing cycles.",
                "operationId": "override_subscription_admin_payments_subscriptions_override_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SubscriptionOverrideRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SubscriptionOverrideResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/admin/payments/audit/summary": {
            "get": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Get Payment Summary",
                "description": "Get payment summary statistics for a given period.\n\nAdmin-only endpoint for viewing payment metrics and statistics.",
                "operationId": "get_payment_summary_admin_payments_audit_summary_get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "start_date",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Start Date"
                        }
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "End Date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaymentSummaryResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/payments/audit/trail": {
            "get": {
                "tags": [
                    "admin-payments"
                ],
                "summary": "Get Audit Trail",
                "description": "Get audit trail of payment-related administrative actions.\n\nAdmin-only endpoint for viewing comprehensive audit logs.",
                "operationId": "get_audit_trail_admin_payments_audit_trail_get",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "integer"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "User Id"
                        }
                    },
                    {
                        "name": "action_type",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Action Type"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 100,
                            "title": "Limit"
                        }
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 0,
                            "title": "Offset"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/PaymentAuditRecord"
                                    },
                                    "title": "Response Get Audit Trail Admin Payments Audit Trail Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ApplySuggestionsRequest": {
                "properties": {
                    "accept_all": {
                        "type": "boolean",
                        "title": "Accept All",
                        "description": "Accept all suggestions",
                        "default": false
                    },
                    "accept_sections": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Accept Sections",
                        "description": "Accept suggestions for specific sections"
                    },
                    "suggestion_ids": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Suggestion Ids",
                        "description": "Accept specific suggestion IDs"
                    }
                },
                "type": "object",
                "title": "ApplySuggestionsRequest"
            },
            "AskPhilosophyResponse": {
                "properties": {
                    "text": {
                        "type": "string",
                        "title": "Text"
                    },
                    "raw": {
                        "$ref": "#/components/schemas/Raw"
                    }
                },
                "type": "object",
                "required": [
                    "text",
                    "raw"
                ],
                "title": "AskPhilosophyResponse"
            },
            "BackupProgressResponse": {
                "properties": {
                    "backup_id": {
                        "type": "string",
                        "title": "Backup Id"
                    },
                    "status": {
                        "$ref": "#/components/schemas/BackupStatusEnum"
                    },
                    "total_collections": {
                        "type": "integer",
                        "title": "Total Collections"
                    },
                    "completed_collections": {
                        "type": "integer",
                        "title": "Completed Collections"
                    },
                    "current_collection": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Current Collection"
                    },
                    "total_points": {
                        "type": "integer",
                        "title": "Total Points"
                    },
                    "processed_points": {
                        "type": "integer",
                        "title": "Processed Points"
                    },
                    "collection_progress_percent": {
                        "type": "number",
                        "title": "Collection Progress Percent"
                    },
                    "point_progress_percent": {
                        "type": "number",
                        "title": "Point Progress Percent"
                    },
                    "start_time": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Start Time"
                    },
                    "end_time": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "End Time"
                    },
                    "duration_seconds": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Duration Seconds"
                    },
                    "errors": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Errors"
                    }
                },
                "type": "object",
                "required": [
                    "backup_id",
                    "status",
                    "total_collections",
                    "completed_collections",
                    "total_points",
                    "processed_points",
                    "collection_progress_percent",
                    "point_progress_percent"
                ],
                "title": "BackupProgressResponse",
                "description": "Response model for backup progress."
            },
            "BackupRequest": {
                "properties": {
                    "collections": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Collections",
                        "description": "Specific collections to backup. If empty, backup all philosophy collections"
                    },
                    "collection_filter": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Collection Filter",
                        "description": "Filter pattern for collection names (supports wildcards like 'Aristotle*')"
                    },
                    "target_prefix": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Target Prefix",
                        "description": "Prefix to add to target collection names"
                    },
                    "overwrite": {
                        "type": "boolean",
                        "title": "Overwrite",
                        "description": "Whether to overwrite existing target collections",
                        "default": false
                    },
                    "include_patterns": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Include Patterns",
                        "description": "Include patterns for selective backup"
                    },
                    "exclude_patterns": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Exclude Patterns",
                        "description": "Exclude patterns for selective backup"
                    }
                },
                "type": "object",
                "title": "BackupRequest",
                "description": "Request model for backup operations."
            },
            "BackupStatusEnum": {
                "type": "string",
                "enum": [
                    "pending",
                    "in_progress",
                    "completed",
                    "failed",
                    "cancelled"
                ],
                "title": "BackupStatusEnum",
                "description": "Backup operation status enumeration."
            },
            "BearerResponse": {
                "properties": {
                    "access_token": {
                        "type": "string",
                        "title": "Access Token"
                    },
                    "token_type": {
                        "type": "string",
                        "title": "Token Type"
                    }
                },
                "type": "object",
                "required": [
                    "access_token",
                    "token_type"
                ],
                "title": "BearerResponse"
            },
            "BillingHistoryResponse": {
                "properties": {
                    "records": {
                        "items": {
                            "$ref": "#/components/schemas/BillingRecord"
                        },
                        "type": "array",
                        "title": "Records",
                        "description": "List of billing records"
                    },
                    "total_count": {
                        "type": "integer",
                        "title": "Total Count",
                        "description": "Total number of billing records"
                    }
                },
                "type": "object",
                "required": [
                    "records",
                    "total_count"
                ],
                "title": "BillingHistoryResponse",
                "description": "Response model for billing history."
            },
            "BillingRecord": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Payment record ID"
                    },
                    "amount_cents": {
                        "type": "integer",
                        "title": "Amount Cents",
                        "description": "Payment amount in cents"
                    },
                    "currency": {
                        "type": "string",
                        "title": "Currency",
                        "description": "Payment currency"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Payment status"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Payment description"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At",
                        "description": "Payment creation timestamp"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "amount_cents",
                    "currency",
                    "status",
                    "created_at"
                ],
                "title": "BillingRecord",
                "description": "Response model for billing history records."
            },
            "Body_auth_jwt_login_auth_jwt_login_post": {
                "properties": {
                    "grant_type": {
                        "anyOf": [
                            {
                                "type": "string",
                                "pattern": "^password$"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Grant Type"
                    },
                    "username": {
                        "type": "string",
                        "title": "Username"
                    },
                    "password": {
                        "type": "string",
                        "format": "password",
                        "title": "Password"
                    },
                    "scope": {
                        "type": "string",
                        "title": "Scope",
                        "default": ""
                    },
                    "client_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Client Id"
                    },
                    "client_secret": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "format": "password",
                        "title": "Client Secret"
                    }
                },
                "type": "object",
                "required": [
                    "username",
                    "password"
                ],
                "title": "Body_auth_jwt_login_auth_jwt_login_post"
            },
            "Body_reset_forgot_password_auth_forgot_password_post": {
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email",
                        "title": "Email"
                    }
                },
                "type": "object",
                "required": [
                    "email"
                ],
                "title": "Body_reset_forgot_password_auth_forgot_password_post"
            },
            "Body_reset_reset_password_auth_reset_password_post": {
                "properties": {
                    "token": {
                        "type": "string",
                        "title": "Token"
                    },
                    "password": {
                        "type": "string",
                        "title": "Password"
                    }
                },
                "type": "object",
                "required": [
                    "token",
                    "password"
                ],
                "title": "Body_reset_reset_password_auth_reset_password_post"
            },
            "Body_upload_document_documents_upload_post": {
                "properties": {
                    "file": {
                        "type": "string",
                        "format": "binary",
                        "title": "File"
                    }
                },
                "type": "object",
                "required": [
                    "file"
                ],
                "title": "Body_upload_document_documents_upload_post"
            },
            "Body_verify_request_token_auth_request_verify_token_post": {
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email",
                        "title": "Email"
                    }
                },
                "type": "object",
                "required": [
                    "email"
                ],
                "title": "Body_verify_request_token_auth_request_verify_token_post"
            },
            "Body_verify_verify_auth_verify_post": {
                "properties": {
                    "token": {
                        "type": "string",
                        "title": "Token"
                    }
                },
                "type": "object",
                "required": [
                    "token"
                ],
                "title": "Body_verify_verify_auth_verify_post"
            },
            "ChatConversationResponse": {
                "properties": {
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "Unique conversation identifier"
                    },
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session identifier"
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username",
                        "description": "User identifier"
                    },
                    "title": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Title",
                        "description": "Conversation title"
                    },
                    "philosopher_collection": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Philosopher Collection",
                        "description": "Associated philosopher collection"
                    },
                    "message_count": {
                        "type": "integer",
                        "title": "Message Count",
                        "description": "Number of messages in conversation"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At",
                        "description": "Conversation creation timestamp"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Updated At",
                        "description": "Last update timestamp"
                    }
                },
                "type": "object",
                "required": [
                    "conversation_id",
                    "session_id",
                    "message_count",
                    "created_at",
                    "updated_at"
                ],
                "title": "ChatConversationResponse",
                "description": "Response model for individual conversations.",
                "example": {
                    "conversation_id": "550e8400-e29b-41d4-a716-446655440001",
                    "created_at": "2024-01-15T10:30:00Z",
                    "message_count": 8,
                    "philosopher_collection": "Aristotle",
                    "session_id": "user_session_123",
                    "title": "Discussion about Aristotelian Ethics",
                    "updated_at": "2024-01-15T11:45:00Z",
                    "username": "alice@example.com"
                }
            },
            "ChatConversationsResponse": {
                "properties": {
                    "conversations": {
                        "items": {
                            "$ref": "#/components/schemas/ChatConversationResponse"
                        },
                        "type": "array",
                        "title": "Conversations",
                        "description": "List of conversations"
                    },
                    "total_count": {
                        "type": "integer",
                        "title": "Total Count",
                        "description": "Total number of conversations"
                    },
                    "has_more": {
                        "type": "boolean",
                        "title": "Has More",
                        "description": "Whether there are more conversations available"
                    },
                    "offset": {
                        "type": "integer",
                        "title": "Offset",
                        "description": "Current offset in pagination"
                    },
                    "limit": {
                        "type": "integer",
                        "title": "Limit",
                        "description": "Current limit per page"
                    }
                },
                "type": "object",
                "required": [
                    "conversations",
                    "total_count",
                    "has_more",
                    "offset",
                    "limit"
                ],
                "title": "ChatConversationsResponse",
                "description": "Response model for paginated conversation list.",
                "example": {
                    "conversations": [
                        {
                            "conversation_id": "550e8400-e29b-41d4-a716-446655440001",
                            "created_at": "2024-01-15T10:30:00Z",
                            "message_count": 8,
                            "philosopher_collection": "Aristotle",
                            "session_id": "user_session_123",
                            "title": "Aristotelian Ethics Discussion",
                            "updated_at": "2024-01-15T11:45:00Z"
                        }
                    ],
                    "has_more": false,
                    "limit": 20,
                    "offset": 0,
                    "total_count": 5
                }
            },
            "ChatDeletionResponse": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Whether the deletion was successful"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Status message"
                    },
                    "deleted_conversations": {
                        "type": "integer",
                        "title": "Deleted Conversations",
                        "description": "Number of conversations deleted",
                        "default": 0
                    },
                    "deleted_messages": {
                        "type": "integer",
                        "title": "Deleted Messages",
                        "description": "Number of messages deleted",
                        "default": 0
                    },
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session ID that was processed"
                    }
                },
                "type": "object",
                "required": [
                    "success",
                    "message",
                    "session_id"
                ],
                "title": "ChatDeletionResponse",
                "description": "Response model for chat history deletion operations.",
                "example": {
                    "deleted_conversations": 3,
                    "deleted_messages": 24,
                    "message": "Chat history successfully deleted",
                    "session_id": "user_session_123",
                    "success": true
                }
            },
            "ChatHistoryResponse": {
                "properties": {
                    "messages": {
                        "items": {
                            "$ref": "#/components/schemas/ChatMessageResponse"
                        },
                        "type": "array",
                        "title": "Messages",
                        "description": "List of chat messages"
                    },
                    "total_count": {
                        "type": "integer",
                        "title": "Total Count",
                        "description": "Total number of messages in the session"
                    },
                    "has_more": {
                        "type": "boolean",
                        "title": "Has More",
                        "description": "Whether there are more messages available"
                    },
                    "offset": {
                        "type": "integer",
                        "title": "Offset",
                        "description": "Current offset in pagination"
                    },
                    "limit": {
                        "type": "integer",
                        "title": "Limit",
                        "description": "Current limit per page"
                    }
                },
                "type": "object",
                "required": [
                    "messages",
                    "total_count",
                    "has_more",
                    "offset",
                    "limit"
                ],
                "title": "ChatHistoryResponse",
                "description": "Response model for paginated chat history.",
                "example": {
                    "has_more": true,
                    "limit": 20,
                    "messages": [
                        {
                            "content": "What is virtue ethics?",
                            "conversation_id": "550e8400-e29b-41d4-a716-446655440001",
                            "created_at": "2024-01-15T10:30:00Z",
                            "message_id": "550e8400-e29b-41d4-a716-446655440000",
                            "philosopher_collection": "Aristotle",
                            "role": "user",
                            "session_id": "user_session_123"
                        }
                    ],
                    "offset": 0,
                    "total_count": 25
                }
            },
            "ChatMessageRequest": {
                "properties": {
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session identifier for privacy isolation"
                    },
                    "role": {
                        "type": "string",
                        "title": "Role",
                        "description": "Message role (user or assistant)"
                    },
                    "content": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Content",
                        "description": "Message content"
                    },
                    "philosopher_collection": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Philosopher Collection",
                        "description": "Optional philosopher collection context"
                    },
                    "conversation_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Conversation Id",
                        "description": "Optional existing conversation ID"
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username",
                        "description": "Optional username for user tracking"
                    }
                },
                "type": "object",
                "required": [
                    "session_id",
                    "role",
                    "content"
                ],
                "title": "ChatMessageRequest",
                "description": "Request model for storing a chat message.",
                "example": {
                    "content": "What is virtue ethics according to Aristotle?",
                    "philosopher_collection": "Aristotle",
                    "role": "user",
                    "session_id": "user_session_123",
                    "username": "alice@example.com"
                }
            },
            "ChatMessageResponse": {
                "properties": {
                    "message_id": {
                        "type": "string",
                        "title": "Message Id",
                        "description": "Unique message identifier"
                    },
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "Conversation identifier"
                    },
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session identifier"
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username",
                        "description": "User identifier for multi-user support"
                    },
                    "role": {
                        "type": "string",
                        "title": "Role",
                        "description": "Message role (user or assistant)"
                    },
                    "content": {
                        "type": "string",
                        "title": "Content",
                        "description": "Message content"
                    },
                    "philosopher_collection": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Philosopher Collection",
                        "description": "Associated philosopher collection"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At",
                        "description": "Message creation timestamp"
                    }
                },
                "type": "object",
                "required": [
                    "message_id",
                    "conversation_id",
                    "session_id",
                    "role",
                    "content",
                    "created_at"
                ],
                "title": "ChatMessageResponse",
                "description": "Response model for individual chat messages.",
                "example": {
                    "content": "What is virtue ethics according to Aristotle?",
                    "conversation_id": "550e8400-e29b-41d4-a716-446655440001",
                    "created_at": "2024-01-15T10:30:00Z",
                    "message_id": "550e8400-e29b-41d4-a716-446655440000",
                    "philosopher_collection": "Aristotle",
                    "role": "user",
                    "session_id": "user_session_123",
                    "username": "alice@example.com"
                }
            },
            "ChatSearchRequest": {
                "properties": {
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session ID to search within"
                    },
                    "query": {
                        "type": "string",
                        "minLength": 1,
                        "title": "Query",
                        "description": "Search query text"
                    },
                    "limit": {
                        "type": "integer",
                        "maximum": 50.0,
                        "minimum": 1.0,
                        "title": "Limit",
                        "description": "Maximum number of results to return",
                        "default": 10
                    },
                    "philosopher_filter": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Philosopher Filter",
                        "description": "Optional philosopher collection filter"
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username",
                        "description": "Optional username for user-specific filtering"
                    },
                    "include_pdf_context": {
                        "type": "boolean",
                        "title": "Include Pdf Context",
                        "description": "If true and username provided, include relevant document context",
                        "default": false
                    }
                },
                "type": "object",
                "required": [
                    "session_id",
                    "query"
                ],
                "title": "ChatSearchRequest",
                "description": "Request model for searching chat history.",
                "example": {
                    "include_pdf_context": true,
                    "limit": 10,
                    "philosopher_filter": "Aristotle",
                    "query": "virtue ethics",
                    "session_id": "user_session_123",
                    "username": "alice@example.com"
                }
            },
            "ChatSearchResponse": {
                "properties": {
                    "results": {
                        "items": {
                            "$ref": "#/components/schemas/ChatSearchResultItem"
                        },
                        "type": "array",
                        "title": "Results",
                        "description": "Search results with relevance scores"
                    },
                    "total_found": {
                        "type": "integer",
                        "title": "Total Found",
                        "description": "Total number of matching messages"
                    },
                    "query": {
                        "type": "string",
                        "title": "Query",
                        "description": "Original search query"
                    },
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session ID that was searched"
                    }
                },
                "type": "object",
                "required": [
                    "results",
                    "total_found",
                    "query",
                    "session_id"
                ],
                "title": "ChatSearchResponse",
                "description": "Response model for chat history search results.",
                "example": {
                    "query": "virtue ethics",
                    "results": [
                        {
                            "content": "Virtue ethics focuses on character rather than actions...",
                            "conversation_id": "550e8400-e29b-41d4-a716-446655440001",
                            "created_at": "2024-01-15T10:31:00Z",
                            "message_id": "550e8400-e29b-41d4-a716-446655440000",
                            "philosopher_collection": "Aristotle",
                            "relevance_score": 0.85,
                            "role": "assistant",
                            "session_id": "user_session_123"
                        }
                    ],
                    "session_id": "user_session_123",
                    "total_found": 3
                }
            },
            "ChatSearchResultItem": {
                "properties": {
                    "message_id": {
                        "type": "string",
                        "title": "Message Id",
                        "description": "Message identifier"
                    },
                    "conversation_id": {
                        "type": "string",
                        "title": "Conversation Id",
                        "description": "Conversation identifier"
                    },
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session identifier"
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username",
                        "description": "User identifier"
                    },
                    "role": {
                        "type": "string",
                        "title": "Role",
                        "description": "Message role"
                    },
                    "content": {
                        "type": "string",
                        "title": "Content",
                        "description": "Message content"
                    },
                    "philosopher_collection": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Philosopher Collection",
                        "description": "Philosopher collection"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At",
                        "description": "Message creation timestamp"
                    },
                    "relevance_score": {
                        "type": "number",
                        "title": "Relevance Score",
                        "description": "Relevance score (0.0 to 1.0)"
                    },
                    "source_type": {
                        "type": "string",
                        "title": "Source Type",
                        "description": "Source type (chat or document)",
                        "default": "chat"
                    }
                },
                "type": "object",
                "required": [
                    "message_id",
                    "conversation_id",
                    "session_id",
                    "role",
                    "content",
                    "created_at",
                    "relevance_score"
                ],
                "title": "ChatSearchResultItem",
                "description": "Individual search result item with relevance scoring.",
                "example": {
                    "content": "Virtue ethics, according to Aristotle, is a moral philosophy that emphasizes character...",
                    "conversation_id": "550e8400-e29b-41d4-a716-446655440001",
                    "created_at": "2024-01-15T10:31:00Z",
                    "message_id": "550e8400-e29b-41d4-a716-446655440000",
                    "philosopher_collection": "Aristotle",
                    "relevance_score": 0.85,
                    "role": "assistant",
                    "session_id": "user_session_123",
                    "source_type": "chat",
                    "username": "alice@example.com"
                }
            },
            "CheckoutRequest": {
                "properties": {
                    "price_id": {
                        "type": "string",
                        "title": "Price Id",
                        "description": "Stripe price ID for the subscription"
                    },
                    "success_url": {
                        "type": "string",
                        "title": "Success Url",
                        "description": "URL to redirect after successful payment"
                    },
                    "cancel_url": {
                        "type": "string",
                        "title": "Cancel Url",
                        "description": "URL to redirect after cancelled payment"
                    }
                },
                "type": "object",
                "required": [
                    "price_id",
                    "success_url",
                    "cancel_url"
                ],
                "title": "CheckoutRequest",
                "description": "Request model for creating a checkout session."
            },
            "CheckoutResponse": {
                "properties": {
                    "checkout_url": {
                        "type": "string",
                        "title": "Checkout Url",
                        "description": "Stripe checkout session URL"
                    },
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Stripe checkout session ID"
                    }
                },
                "type": "object",
                "required": [
                    "checkout_url",
                    "session_id"
                ],
                "title": "CheckoutResponse",
                "description": "Response model for checkout session creation."
            },
            "CleanupResultResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status"
                    },
                    "cutoff_date": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Cutoff Date"
                    },
                    "retention_days": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Retention Days"
                    },
                    "conversations_deleted": {
                        "type": "integer",
                        "title": "Conversations Deleted",
                        "default": 0
                    },
                    "messages_deleted": {
                        "type": "integer",
                        "title": "Messages Deleted",
                        "default": 0
                    },
                    "qdrant_points_deleted": {
                        "type": "integer",
                        "title": "Qdrant Points Deleted",
                        "default": 0
                    },
                    "errors": {
                        "items": {},
                        "type": "array",
                        "title": "Errors"
                    }
                },
                "type": "object",
                "required": [
                    "status"
                ],
                "title": "CleanupResultResponse",
                "description": "Response model for cleanup operation results."
            },
            "CollectionInfoResponse": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "vectors_count": {
                        "type": "integer",
                        "title": "Vectors Count"
                    },
                    "indexed_vectors_count": {
                        "type": "integer",
                        "title": "Indexed Vectors Count"
                    },
                    "points_count": {
                        "type": "integer",
                        "title": "Points Count"
                    },
                    "segments_count": {
                        "type": "integer",
                        "title": "Segments Count"
                    },
                    "config": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Config"
                    },
                    "payload_schema": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Payload Schema"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "vectors_count",
                    "indexed_vectors_count",
                    "points_count",
                    "segments_count",
                    "config"
                ],
                "title": "CollectionInfoResponse",
                "description": "Response model for collection information."
            },
            "CollectionListResponse": {
                "properties": {
                    "collections": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Collections"
                    },
                    "total_count": {
                        "type": "integer",
                        "title": "Total Count"
                    },
                    "source": {
                        "type": "string",
                        "title": "Source"
                    }
                },
                "type": "object",
                "required": [
                    "collections",
                    "total_count",
                    "source"
                ],
                "title": "CollectionListResponse",
                "description": "Response model for listing collections."
            },
            "ConversationMessage": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id"
                    },
                    "role": {
                        "type": "string",
                        "title": "Role"
                    },
                    "text": {
                        "type": "string",
                        "title": "Text"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "role",
                    "text"
                ],
                "title": "ConversationMessage"
            },
            "CreateDraftRequest": {
                "properties": {
                    "title": {
                        "type": "string",
                        "title": "Title",
                        "description": "Paper title"
                    },
                    "topic": {
                        "type": "string",
                        "title": "Topic",
                        "description": "Main research topic or question"
                    },
                    "collection": {
                        "type": "string",
                        "title": "Collection",
                        "description": "Philosopher collection to focus on"
                    },
                    "immersive_mode": {
                        "type": "boolean",
                        "title": "Immersive Mode",
                        "description": "Use immersive philosopher voice",
                        "default": false
                    },
                    "temperature": {
                        "type": "number",
                        "maximum": 1.0,
                        "minimum": 0.0,
                        "title": "Temperature",
                        "description": "LLM temperature",
                        "default": 0.3
                    },
                    "metadata": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Metadata",
                        "description": "Additional metadata"
                    }
                },
                "type": "object",
                "required": [
                    "title",
                    "topic",
                    "collection"
                ],
                "title": "CreateDraftRequest"
            },
            "DisputeEvidenceRequest": {
                "properties": {
                    "customer_communication": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Customer Communication",
                        "description": "Customer communication evidence"
                    },
                    "receipt": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Receipt",
                        "description": "Receipt or proof of purchase"
                    },
                    "shipping_documentation": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Shipping Documentation",
                        "description": "Shipping documentation"
                    },
                    "duplicate_charge_documentation": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Duplicate Charge Documentation",
                        "description": "Duplicate charge evidence"
                    },
                    "product_description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Product Description",
                        "description": "Product or service description"
                    },
                    "admin_notes": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Admin Notes",
                        "description": "Administrative notes"
                    }
                },
                "type": "object",
                "title": "DisputeEvidenceRequest",
                "description": "Request model for submitting dispute evidence."
            },
            "DisputeResponse": {
                "properties": {
                    "dispute_id": {
                        "type": "string",
                        "title": "Dispute Id",
                        "description": "Database dispute record ID"
                    },
                    "stripe_dispute_id": {
                        "type": "string",
                        "title": "Stripe Dispute Id",
                        "description": "Stripe dispute ID"
                    },
                    "amount_cents": {
                        "type": "integer",
                        "title": "Amount Cents",
                        "description": "Disputed amount in cents"
                    },
                    "status": {
                        "$ref": "#/components/schemas/DisputeStatus",
                        "description": "Current dispute status"
                    },
                    "reason": {
                        "type": "string",
                        "title": "Reason",
                        "description": "Dispute reason"
                    },
                    "evidence_due_by": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Evidence Due By",
                        "description": "Evidence submission deadline"
                    },
                    "evidence_submitted": {
                        "type": "boolean",
                        "title": "Evidence Submitted",
                        "description": "Whether evidence has been submitted"
                    },
                    "account_suspended": {
                        "type": "boolean",
                        "title": "Account Suspended",
                        "description": "Whether user account is suspended"
                    }
                },
                "type": "object",
                "required": [
                    "dispute_id",
                    "stripe_dispute_id",
                    "amount_cents",
                    "status",
                    "reason",
                    "evidence_submitted",
                    "account_suspended"
                ],
                "title": "DisputeResponse",
                "description": "Response model for dispute operations."
            },
            "DisputeStatus": {
                "type": "string",
                "enum": [
                    "warning_needs_response",
                    "warning_under_review",
                    "warning_closed",
                    "needs_response",
                    "under_review",
                    "charge_refunded",
                    "won",
                    "lost"
                ],
                "title": "DisputeStatus",
                "description": "Dispute status values from Stripe."
            },
            "DocumentDeleteResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status"
                    },
                    "file_id": {
                        "type": "string",
                        "title": "File Id"
                    },
                    "filename": {
                        "type": "string",
                        "title": "Filename"
                    },
                    "chunks_deleted": {
                        "type": "integer",
                        "title": "Chunks Deleted"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "file_id",
                    "filename",
                    "chunks_deleted"
                ],
                "title": "DocumentDeleteResponse",
                "description": "Response model for document deletion."
            },
            "DocumentListItem": {
                "properties": {
                    "file_id": {
                        "type": "string",
                        "title": "File Id"
                    },
                    "filename": {
                        "type": "string",
                        "title": "Filename"
                    },
                    "document_type": {
                        "type": "string",
                        "title": "Document Type"
                    },
                    "chunks": {
                        "type": "integer",
                        "title": "Chunks"
                    },
                    "uploaded_at": {
                        "type": "string",
                        "title": "Uploaded At"
                    },
                    "metadata": {
                        "$ref": "#/components/schemas/DocumentMetadata"
                    }
                },
                "type": "object",
                "required": [
                    "file_id",
                    "filename",
                    "document_type",
                    "chunks",
                    "uploaded_at",
                    "metadata"
                ],
                "title": "DocumentListItem",
                "description": "Model for a single document in list response."
            },
            "DocumentListResponse": {
                "properties": {
                    "documents": {
                        "items": {
                            "$ref": "#/components/schemas/DocumentListItem"
                        },
                        "type": "array",
                        "title": "Documents"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total"
                    },
                    "limit": {
                        "type": "integer",
                        "title": "Limit"
                    },
                    "offset": {
                        "type": "integer",
                        "title": "Offset"
                    }
                },
                "type": "object",
                "required": [
                    "documents",
                    "total",
                    "limit",
                    "offset"
                ],
                "title": "DocumentListResponse",
                "description": "Response model for document list endpoint."
            },
            "DocumentMetadata": {
                "properties": {
                    "title": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Title"
                    },
                    "author": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Author"
                    },
                    "topic": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Topic"
                    },
                    "document_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Document Type"
                    }
                },
                "type": "object",
                "title": "DocumentMetadata",
                "description": "Document metadata model."
            },
            "DocumentUploadResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status"
                    },
                    "file_id": {
                        "type": "string",
                        "title": "File Id"
                    },
                    "filename": {
                        "type": "string",
                        "title": "Filename"
                    },
                    "collection": {
                        "type": "string",
                        "title": "Collection"
                    },
                    "chunks_uploaded": {
                        "type": "integer",
                        "title": "Chunks Uploaded"
                    },
                    "metadata": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Metadata"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "file_id",
                    "filename",
                    "collection",
                    "chunks_uploaded"
                ],
                "title": "DocumentUploadResponse",
                "description": "Response model for document upload."
            },
            "DraftCreatedResponse": {
                "properties": {
                    "draft_id": {
                        "type": "string",
                        "title": "Draft Id"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message"
                    }
                },
                "type": "object",
                "required": [
                    "draft_id",
                    "status",
                    "message"
                ],
                "title": "DraftCreatedResponse"
            },
            "DraftStatusResponse": {
                "properties": {
                    "draft_id": {
                        "type": "string",
                        "title": "Draft Id"
                    },
                    "title": {
                        "type": "string",
                        "title": "Title"
                    },
                    "topic": {
                        "type": "string",
                        "title": "Topic"
                    },
                    "collection": {
                        "type": "string",
                        "title": "Collection"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status"
                    },
                    "progress": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Progress"
                    },
                    "created_at": {
                        "type": "string",
                        "title": "Created At"
                    },
                    "updated_at": {
                        "type": "string",
                        "title": "Updated At"
                    },
                    "sections": {
                        "additionalProperties": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "type": "object",
                        "title": "Sections"
                    },
                    "has_review": {
                        "type": "boolean",
                        "title": "Has Review"
                    },
                    "suggestions_count": {
                        "type": "integer",
                        "title": "Suggestions Count"
                    }
                },
                "type": "object",
                "required": [
                    "draft_id",
                    "title",
                    "topic",
                    "collection",
                    "status",
                    "progress",
                    "created_at",
                    "updated_at",
                    "sections",
                    "has_review",
                    "suggestions_count"
                ],
                "title": "DraftStatusResponse"
            },
            "ErrorModel": {
                "properties": {
                    "detail": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            }
                        ],
                        "title": "Detail"
                    }
                },
                "type": "object",
                "required": [
                    "detail"
                ],
                "title": "ErrorModel"
            },
            "GenerateSectionsRequest": {
                "properties": {
                    "sections": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Sections",
                        "description": "Sections to generate. Default: all sections"
                    },
                    "use_expansion": {
                        "type": "boolean",
                        "title": "Use Expansion",
                        "description": "Use query expansion for enhanced retrieval",
                        "default": true
                    },
                    "expansion_methods": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expansion Methods",
                        "description": "Query expansion methods: ['hyde', 'rag_fusion', 'self_ask', 'prf']"
                    }
                },
                "type": "object",
                "title": "GenerateSectionsRequest"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "HybridQueryRequest": {
                "properties": {
                    "query_str": {
                        "type": "string",
                        "title": "Query Str",
                        "description": "The search query text",
                        "example": "What is practical wisdom in Aristotelian ethics?"
                    },
                    "collection": {
                        "type": "string",
                        "title": "Collection",
                        "description": "Name of the Qdrant collection to search",
                        "example": "Aristotle"
                    },
                    "vector_types": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Vector Types",
                        "description": "\n        List of vector types to query. If None, searches all available types.\n        \n        Available vector types:\n        - sparse_original: SPLADE vectors of original text\n        - sparse_summary: SPLADE vectors of summarized text  \n        - sparse_conjecture: SPLADE vectors of conjectural content\n        - dense_original: Dense embeddings of original text\n        - dense_summary: Dense embeddings of summarized text\n        - dense_conjecture: Dense embeddings of conjectural content\n        \n        Note: conjecture types only available for non-\"Meta Collection\" collections\n        ",
                        "example": [
                            "sparse_original",
                            "dense_summary"
                        ]
                    },
                    "filter": {
                        "additionalProperties": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            ]
                        },
                        "type": "object",
                        "title": "Filter",
                        "description": "\n        Payload-based filters to apply to search results.\n        \n        Filter Structure:\n        - Keys: Payload field names\n        - Values: Either a single string/value OR a list of strings/values\n        \n        Logic:\n        - Multiple fields are combined with AND logic\n        - List values within a field use OR logic\n        - Single values use exact match\n        \n        Common payload fields:\n        - author: Document author\n        - topic: Subject matter tags\n        - node_hierarchy: Content organization level (\"Papa Bear\", \"Mama Bear\", \"Baby Bear\")\n        - document_type: Type of document (\"treatise\", \"commentary\", \"primary source\")\n        - text_type: Content classification (\"original\", \"summary\", \"detailed\")\n        - work: Specific work title\n        - language: Document language\n        - period/era: Historical time period\n        \n        Examples:\n        - Single author: {\"author\": \"Aristotle\"}\n        - Multiple authors: {\"author\": [\"Aristotle\", \"Plato\"]}\n        - Complex filter: {\n            \"author\": \"Aristotle\",\n            \"topic\": [\"ethics\", \"politics\"],\n            \"node_hierarchy\": [\"Papa Bear\", \"Mama Bear\"]\n          }\n        ",
                        "example": {
                            "author": "Aristotle",
                            "document_type": "treatise",
                            "topic": [
                                "ethics",
                                "virtue"
                            ]
                        }
                    },
                    "payload": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Payload",
                        "description": "\n        List of payload fields to return in results. If None, returns all payload fields.\n        \n        This can be used to limit response size and focus on specific metadata.\n        \n        Common useful fields:\n        - text: Full document text\n        - summary: Text summary\n        - author: Document author\n        - title: Document title\n        - topic: Subject tags\n        - node_hierarchy: Organization level\n        - document_type: Document classification\n        \n        Example: [\"author\", \"title\", \"summary\", \"topic\"]\n        ",
                        "example": [
                            "text",
                            "summary",
                            "author",
                            "topic"
                        ]
                    },
                    "conversation_history": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/ConversationMessage"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Conversation History"
                    }
                },
                "type": "object",
                "required": [
                    "query_str",
                    "collection"
                ],
                "title": "HybridQueryRequest",
                "description": "Request model for hybrid vector search with filtering capabilities.\n\nThis model supports querying multiple vector types (sparse and dense) across different\ncontent representations (original, summary, conjecture) with payload-based filtering.\n\nExamples:\n    Basic search:\n    ```python\n    request = HybridQueryRequest(\n        query_str=\"What is virtue ethics?\",\n        collection=\"Aristotle\"\n    )\n    ```\n    \n    Filtered search:\n    ```python\n    request = HybridQueryRequest(\n        query_str=\"theories of justice\",\n        collection=\"Philosophy\",\n        filter={\n            \"author\": [\"Aristotle\", \"Plato\"],\n            \"topic\": \"ethics\"\n        }\n    )\n    ```\n    \n    Specific vector types:\n    ```python\n    request = HybridQueryRequest(\n        query_str=\"categorical syllogism\",\n        collection=\"Aristotle\",\n        vector_types=[\"sparse_original\", \"dense_original\"],\n        filter={\"document_type\": \"treatise\"}\n    )\n    ```",
                "examples": [
                    {
                        "collection": "Meta Collection",
                        "filter": {
                            "philosopher": "Aristotle"
                        },
                        "payload": [
                            "text",
                            "summary"
                        ],
                        "query_str": "What is virtue ethics?"
                    },
                    {
                        "collection": "Philosophy",
                        "filter": {
                            "author": [
                                "Aristotle",
                                "Plato"
                            ],
                            "topic": "politics"
                        },
                        "payload": [
                            "author",
                            "title",
                            "summary"
                        ],
                        "query_str": "theories of political philosophy",
                        "vector_types": [
                            "sparse_summary",
                            "dense_summary"
                        ]
                    },
                    {
                        "collection": "Aristotle",
                        "filter": {
                            "node_hierarchy": "Papa Bear",
                            "work": "Prior Analytics"
                        },
                        "payload": [
                            "text",
                            "summary"
                        ],
                        "query_str": "syllogistic reasoning",
                        "vector_types": [
                            "sparse_original"
                        ]
                    }
                ]
            },
            "InvoiceResponse": {
                "properties": {
                    "invoice_id": {
                        "type": "string",
                        "title": "Invoice Id",
                        "description": "Invoice ID"
                    },
                    "download_url": {
                        "type": "string",
                        "title": "Download Url",
                        "description": "Temporary download URL for invoice PDF"
                    },
                    "expires_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Expires At",
                        "description": "URL expiration timestamp"
                    }
                },
                "type": "object",
                "required": [
                    "invoice_id",
                    "download_url",
                    "expires_at"
                ],
                "title": "InvoiceResponse",
                "description": "Response model for invoice download."
            },
            "PaymentAuditRecord": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "title": "Id",
                        "description": "Record ID"
                    },
                    "user_id": {
                        "type": "integer",
                        "title": "User Id",
                        "description": "User ID"
                    },
                    "action_type": {
                        "type": "string",
                        "title": "Action Type",
                        "description": "Type of action (refund, dispute, override)"
                    },
                    "action_details": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Action Details",
                        "description": "Action details"
                    },
                    "admin_user_id": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Admin User Id",
                        "description": "Admin user who performed action"
                    },
                    "timestamp": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Timestamp",
                        "description": "Action timestamp"
                    },
                    "notes": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Notes",
                        "description": "Administrative notes"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "user_id",
                    "action_type",
                    "action_details",
                    "timestamp"
                ],
                "title": "PaymentAuditRecord",
                "description": "Response model for payment audit records."
            },
            "PaymentSummaryResponse": {
                "properties": {
                    "total_payments": {
                        "type": "integer",
                        "title": "Total Payments",
                        "description": "Total number of payments"
                    },
                    "total_amount_cents": {
                        "type": "integer",
                        "title": "Total Amount Cents",
                        "description": "Total payment amount in cents"
                    },
                    "total_refunds": {
                        "type": "integer",
                        "title": "Total Refunds",
                        "description": "Total number of refunds"
                    },
                    "total_refund_amount_cents": {
                        "type": "integer",
                        "title": "Total Refund Amount Cents",
                        "description": "Total refund amount in cents"
                    },
                    "active_disputes": {
                        "type": "integer",
                        "title": "Active Disputes",
                        "description": "Number of active disputes"
                    },
                    "suspended_accounts": {
                        "type": "integer",
                        "title": "Suspended Accounts",
                        "description": "Number of suspended accounts"
                    },
                    "period_start": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Period Start",
                        "description": "Summary period start"
                    },
                    "period_end": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Period End",
                        "description": "Summary period end"
                    }
                },
                "type": "object",
                "required": [
                    "total_payments",
                    "total_amount_cents",
                    "total_refunds",
                    "total_refund_amount_cents",
                    "active_disputes",
                    "suspended_accounts",
                    "period_start",
                    "period_end"
                ],
                "title": "PaymentSummaryResponse",
                "description": "Response model for payment summary statistics."
            },
            "Raw": {
                "properties": {
                    "model": {
                        "type": "string",
                        "title": "Model"
                    },
                    "created_at": {
                        "type": "string",
                        "title": "Created At"
                    },
                    "done": {
                        "type": "boolean",
                        "title": "Done"
                    },
                    "done_reason": {
                        "type": "string",
                        "title": "Done Reason"
                    },
                    "total_duration": {
                        "type": "integer",
                        "title": "Total Duration"
                    },
                    "load_duration": {
                        "type": "integer",
                        "title": "Load Duration"
                    },
                    "prompt_eval_count": {
                        "type": "integer",
                        "title": "Prompt Eval Count"
                    },
                    "prompt_eval_duration": {
                        "type": "integer",
                        "title": "Prompt Eval Duration"
                    },
                    "eval_count": {
                        "type": "integer",
                        "title": "Eval Count"
                    },
                    "eval_duration": {
                        "type": "integer",
                        "title": "Eval Duration"
                    },
                    "usage": {
                        "$ref": "#/components/schemas/Usage"
                    }
                },
                "type": "object",
                "required": [
                    "model",
                    "created_at",
                    "done",
                    "done_reason",
                    "total_duration",
                    "load_duration",
                    "prompt_eval_count",
                    "prompt_eval_duration",
                    "eval_count",
                    "eval_duration",
                    "usage"
                ],
                "title": "Raw"
            },
            "RefundReason": {
                "type": "string",
                "enum": [
                    "customer_request",
                    "duplicate",
                    "fraudulent",
                    "subscription_canceled",
                    "admin_adjustment",
                    "dispute"
                ],
                "title": "RefundReason",
                "description": "Reason for refund initiation."
            },
            "RefundRequest": {
                "properties": {
                    "payment_intent_id": {
                        "type": "string",
                        "title": "Payment Intent Id",
                        "description": "Stripe payment intent ID to refund"
                    },
                    "amount_cents": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Amount Cents",
                        "description": "Partial refund amount in cents (None for full refund)"
                    },
                    "reason": {
                        "$ref": "#/components/schemas/RefundReason",
                        "description": "Reason for refund",
                        "default": "admin_adjustment"
                    },
                    "admin_notes": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Admin Notes",
                        "description": "Administrative notes about the refund"
                    },
                    "adjust_subscription": {
                        "type": "boolean",
                        "title": "Adjust Subscription",
                        "description": "Whether to adjust user subscription",
                        "default": true
                    }
                },
                "type": "object",
                "required": [
                    "payment_intent_id"
                ],
                "title": "RefundRequest",
                "description": "Request model for initiating a refund."
            },
            "RefundResponse": {
                "properties": {
                    "refund_id": {
                        "type": "string",
                        "title": "Refund Id",
                        "description": "Database refund record ID"
                    },
                    "stripe_refund_id": {
                        "type": "string",
                        "title": "Stripe Refund Id",
                        "description": "Stripe refund ID"
                    },
                    "amount_cents": {
                        "type": "integer",
                        "title": "Amount Cents",
                        "description": "Refund amount in cents"
                    },
                    "status": {
                        "$ref": "#/components/schemas/RefundStatus",
                        "description": "Current refund status"
                    },
                    "reason": {
                        "$ref": "#/components/schemas/RefundReason",
                        "description": "Refund reason"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At",
                        "description": "Refund creation timestamp"
                    },
                    "processed_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Processed At",
                        "description": "Refund processing timestamp"
                    },
                    "subscription_adjusted": {
                        "type": "boolean",
                        "title": "Subscription Adjusted",
                        "description": "Whether subscription was adjusted"
                    }
                },
                "type": "object",
                "required": [
                    "refund_id",
                    "stripe_refund_id",
                    "amount_cents",
                    "status",
                    "reason",
                    "created_at",
                    "subscription_adjusted"
                ],
                "title": "RefundResponse",
                "description": "Response model for refund operations."
            },
            "RefundStatus": {
                "type": "string",
                "enum": [
                    "pending",
                    "succeeded",
                    "failed",
                    "canceled",
                    "requires_action"
                ],
                "title": "RefundStatus",
                "description": "Refund status values from Stripe."
            },
            "RepairRequest": {
                "properties": {
                    "source_collection": {
                        "type": "string",
                        "title": "Source Collection"
                    },
                    "target_collection": {
                        "type": "string",
                        "title": "Target Collection"
                    },
                    "repair_mode": {
                        "type": "string",
                        "title": "Repair Mode",
                        "description": "Repair mode: 'missing_points' or 'full_sync'",
                        "default": "missing_points"
                    }
                },
                "type": "object",
                "required": [
                    "source_collection",
                    "target_collection"
                ],
                "title": "RepairRequest",
                "description": "Request model for collection repair operations."
            },
            "RepairResponse": {
                "properties": {
                    "source_collection": {
                        "type": "string",
                        "title": "Source Collection"
                    },
                    "target_collection": {
                        "type": "string",
                        "title": "Target Collection"
                    },
                    "repair_mode": {
                        "type": "string",
                        "title": "Repair Mode"
                    },
                    "success": {
                        "type": "boolean",
                        "title": "Success"
                    },
                    "repaired_points": {
                        "type": "integer",
                        "title": "Repaired Points"
                    },
                    "errors": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Errors"
                    }
                },
                "type": "object",
                "required": [
                    "source_collection",
                    "target_collection",
                    "repair_mode",
                    "success",
                    "repaired_points"
                ],
                "title": "RepairResponse",
                "description": "Response model for repair operations."
            },
            "ReviewDraftRequest": {
                "properties": {
                    "rubric": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Rubric",
                        "description": "Review criteria. Default: ['accuracy', 'argument', 'coherence', 'citations', 'style']"
                    },
                    "severity_gate": {
                        "type": "string",
                        "title": "Severity Gate",
                        "description": "Minimum severity for blocking issues: 'low', 'medium', 'high'",
                        "default": "medium"
                    },
                    "max_evidence_per_question": {
                        "type": "integer",
                        "maximum": 10.0,
                        "minimum": 1.0,
                        "title": "Max Evidence Per Question",
                        "description": "Maximum evidence items per verification question",
                        "default": 5
                    }
                },
                "type": "object",
                "title": "ReviewDraftRequest"
            },
            "ReviewResponse": {
                "properties": {
                    "draft_id": {
                        "type": "string",
                        "title": "Draft Id"
                    },
                    "review_id": {
                        "type": "string",
                        "title": "Review Id"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status"
                    },
                    "summary": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Summary"
                    },
                    "blocking_issues": {
                        "type": "integer",
                        "title": "Blocking Issues"
                    },
                    "verification_coverage": {
                        "type": "string",
                        "title": "Verification Coverage"
                    }
                },
                "type": "object",
                "required": [
                    "draft_id",
                    "review_id",
                    "status",
                    "summary",
                    "blocking_issues",
                    "verification_coverage"
                ],
                "title": "ReviewResponse"
            },
            "SectionGenerationResponse": {
                "properties": {
                    "draft_id": {
                        "type": "string",
                        "title": "Draft Id"
                    },
                    "sections_generated": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Sections Generated"
                    },
                    "sections_failed": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Sections Failed"
                    },
                    "total_sections": {
                        "type": "integer",
                        "title": "Total Sections"
                    },
                    "final_status": {
                        "type": "string",
                        "title": "Final Status"
                    }
                },
                "type": "object",
                "required": [
                    "draft_id",
                    "sections_generated",
                    "sections_failed",
                    "total_sections",
                    "final_status"
                ],
                "title": "SectionGenerationResponse"
            },
            "SessionCleanupResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status"
                    },
                    "session_id": {
                        "type": "string",
                        "title": "Session Id"
                    },
                    "conversations_deleted": {
                        "type": "integer",
                        "title": "Conversations Deleted",
                        "default": 0
                    },
                    "messages_deleted": {
                        "type": "integer",
                        "title": "Messages Deleted",
                        "default": 0
                    },
                    "qdrant_points_deleted": {
                        "type": "integer",
                        "title": "Qdrant Points Deleted",
                        "default": 0
                    },
                    "errors": {
                        "items": {},
                        "type": "array",
                        "title": "Errors"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "session_id"
                ],
                "title": "SessionCleanupResponse",
                "description": "Response model for session cleanup results."
            },
            "SubscriptionLimits": {
                "properties": {
                    "tier": {
                        "type": "string",
                        "title": "Tier",
                        "description": "Current subscription tier"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Subscription status"
                    },
                    "requests_per_month": {
                        "type": "integer",
                        "title": "Requests Per Month",
                        "description": "Monthly request limit"
                    },
                    "max_tokens_per_request": {
                        "type": "integer",
                        "title": "Max Tokens Per Request",
                        "description": "Maximum tokens per request"
                    },
                    "features": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Features",
                        "description": "Available features for this tier"
                    },
                    "current_period_start": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Current Period Start",
                        "description": "Current billing period start"
                    },
                    "current_period_end": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Current Period End",
                        "description": "Current billing period end"
                    }
                },
                "type": "object",
                "required": [
                    "tier",
                    "status",
                    "requests_per_month",
                    "max_tokens_per_request",
                    "features"
                ],
                "title": "SubscriptionLimits",
                "description": "Response model for subscription limits and status."
            },
            "SubscriptionOverrideRequest": {
                "properties": {
                    "user_id": {
                        "type": "integer",
                        "title": "User Id",
                        "description": "User ID to modify"
                    },
                    "tier": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SubscriptionTier"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "New subscription tier"
                    },
                    "status": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SubscriptionStatus"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "New subscription status"
                    },
                    "extend_period_days": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Extend Period Days",
                        "description": "Days to extend current period"
                    },
                    "admin_notes": {
                        "type": "string",
                        "title": "Admin Notes",
                        "description": "Administrative notes for the override"
                    }
                },
                "type": "object",
                "required": [
                    "user_id",
                    "admin_notes"
                ],
                "title": "SubscriptionOverrideRequest",
                "description": "Request model for subscription overrides."
            },
            "SubscriptionOverrideResponse": {
                "properties": {
                    "user_id": {
                        "type": "integer",
                        "title": "User Id",
                        "description": "User ID that was modified"
                    },
                    "old_tier": {
                        "$ref": "#/components/schemas/SubscriptionTier",
                        "description": "Previous subscription tier"
                    },
                    "new_tier": {
                        "$ref": "#/components/schemas/SubscriptionTier",
                        "description": "New subscription tier"
                    },
                    "old_status": {
                        "$ref": "#/components/schemas/SubscriptionStatus",
                        "description": "Previous subscription status"
                    },
                    "new_status": {
                        "$ref": "#/components/schemas/SubscriptionStatus",
                        "description": "New subscription status"
                    },
                    "period_extended": {
                        "type": "boolean",
                        "title": "Period Extended",
                        "description": "Whether billing period was extended"
                    },
                    "admin_notes": {
                        "type": "string",
                        "title": "Admin Notes",
                        "description": "Administrative notes"
                    }
                },
                "type": "object",
                "required": [
                    "user_id",
                    "old_tier",
                    "new_tier",
                    "old_status",
                    "new_status",
                    "period_extended",
                    "admin_notes"
                ],
                "title": "SubscriptionOverrideResponse",
                "description": "Response model for subscription override operations."
            },
            "SubscriptionResponse": {
                "properties": {
                    "id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Id",
                        "description": "Stripe subscription ID"
                    },
                    "tier": {
                        "type": "string",
                        "title": "Tier",
                        "description": "Subscription tier"
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Subscription status"
                    },
                    "current_period_start": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Current Period Start",
                        "description": "Current billing period start"
                    },
                    "current_period_end": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Current Period End",
                        "description": "Current billing period end"
                    },
                    "cancel_at_period_end": {
                        "type": "boolean",
                        "title": "Cancel At Period End",
                        "description": "Whether subscription will cancel at period end",
                        "default": false
                    }
                },
                "type": "object",
                "required": [
                    "tier",
                    "status"
                ],
                "title": "SubscriptionResponse",
                "description": "Response model for subscription information."
            },
            "SubscriptionStatus": {
                "type": "string",
                "enum": [
                    "active",
                    "canceled",
                    "incomplete",
                    "incomplete_expired",
                    "past_due",
                    "trialing",
                    "unpaid"
                ],
                "title": "SubscriptionStatus",
                "description": "Stripe subscription status values."
            },
            "SubscriptionTier": {
                "type": "string",
                "enum": [
                    "free",
                    "basic",
                    "premium",
                    "academic"
                ],
                "title": "SubscriptionTier",
                "description": "Subscription tier levels."
            },
            "Usage": {
                "properties": {
                    "prompt_tokens": {
                        "type": "integer",
                        "title": "Prompt Tokens"
                    },
                    "completion_tokens": {
                        "type": "integer",
                        "title": "Completion Tokens"
                    },
                    "total_tokens": {
                        "type": "integer",
                        "title": "Total Tokens"
                    }
                },
                "type": "object",
                "required": [
                    "prompt_tokens",
                    "completion_tokens",
                    "total_tokens"
                ],
                "title": "Usage"
            },
            "UsageStats": {
                "properties": {
                    "current_period_requests": {
                        "type": "integer",
                        "title": "Current Period Requests",
                        "description": "API requests in current billing period"
                    },
                    "current_period_tokens": {
                        "type": "integer",
                        "title": "Current Period Tokens",
                        "description": "Tokens used in current billing period"
                    },
                    "monthly_limit_requests": {
                        "type": "integer",
                        "title": "Monthly Limit Requests",
                        "description": "Monthly request limit for current tier"
                    },
                    "monthly_limit_tokens": {
                        "type": "integer",
                        "title": "Monthly Limit Tokens",
                        "description": "Monthly token limit for current tier"
                    },
                    "usage_percentage": {
                        "type": "number",
                        "title": "Usage Percentage",
                        "description": "Usage percentage of monthly limits"
                    }
                },
                "type": "object",
                "required": [
                    "current_period_requests",
                    "current_period_tokens",
                    "monthly_limit_requests",
                    "monthly_limit_tokens",
                    "usage_percentage"
                ],
                "title": "UsageStats",
                "description": "Response model for usage statistics."
            },
            "UserCreate": {
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email",
                        "title": "Email"
                    },
                    "password": {
                        "type": "string",
                        "title": "Password"
                    },
                    "is_active": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Is Active",
                        "default": true
                    },
                    "is_superuser": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Is Superuser",
                        "default": false
                    },
                    "is_verified": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Is Verified",
                        "default": false
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username"
                    }
                },
                "type": "object",
                "required": [
                    "email",
                    "password",
                    "username"
                ],
                "title": "UserCreate",
                "description": "Schema for creating a user (request)."
            },
            "UserRead": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "title": "Id"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "title": "Email"
                    },
                    "is_active": {
                        "type": "boolean",
                        "title": "Is Active",
                        "default": true
                    },
                    "is_superuser": {
                        "type": "boolean",
                        "title": "Is Superuser",
                        "default": false
                    },
                    "is_verified": {
                        "type": "boolean",
                        "title": "Is Verified",
                        "default": false
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At"
                    },
                    "subscription_tier": {
                        "$ref": "#/components/schemas/SubscriptionTier"
                    },
                    "subscription_status": {
                        "$ref": "#/components/schemas/SubscriptionStatus"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "email",
                    "username",
                    "created_at",
                    "subscription_tier",
                    "subscription_status"
                ],
                "title": "UserRead",
                "description": "Schema for reading user data (response)."
            },
            "UserUpdate": {
                "properties": {
                    "password": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Password"
                    },
                    "email": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "email"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Email"
                    },
                    "is_active": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Is Active"
                    },
                    "is_superuser": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Is Superuser"
                    },
                    "is_verified": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Is Verified"
                    },
                    "username": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Username"
                    }
                },
                "type": "object",
                "required": [
                    "username"
                ],
                "title": "UserUpdate",
                "description": "Schema for updating a user (request)."
            },
            "ValidationCheck": {
                "properties": {
                    "source_exists": {
                        "type": "boolean",
                        "title": "Source Exists"
                    },
                    "target_exists": {
                        "type": "boolean",
                        "title": "Target Exists"
                    },
                    "point_count_match": {
                        "type": "boolean",
                        "title": "Point Count Match"
                    },
                    "source_points": {
                        "type": "integer",
                        "title": "Source Points"
                    },
                    "target_points": {
                        "type": "integer",
                        "title": "Target Points"
                    },
                    "config_match": {
                        "type": "boolean",
                        "title": "Config Match"
                    },
                    "sample_validation": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Sample Validation"
                    }
                },
                "type": "object",
                "required": [
                    "source_exists",
                    "target_exists",
                    "point_count_match",
                    "source_points",
                    "target_points",
                    "config_match"
                ],
                "title": "ValidationCheck",
                "description": "Individual validation check result."
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            },
            "ValidationRequest": {
                "properties": {
                    "source_collection": {
                        "type": "string",
                        "title": "Source Collection"
                    },
                    "target_collection": {
                        "type": "string",
                        "title": "Target Collection"
                    },
                    "sample_size": {
                        "type": "integer",
                        "maximum": 1000.0,
                        "minimum": 1.0,
                        "title": "Sample Size",
                        "description": "Number of points to sample for validation",
                        "default": 100
                    }
                },
                "type": "object",
                "required": [
                    "source_collection",
                    "target_collection"
                ],
                "title": "ValidationRequest",
                "description": "Request model for backup validation."
            },
            "ValidationResponse": {
                "properties": {
                    "source_collection": {
                        "type": "string",
                        "title": "Source Collection"
                    },
                    "target_collection": {
                        "type": "string",
                        "title": "Target Collection"
                    },
                    "valid": {
                        "type": "boolean",
                        "title": "Valid"
                    },
                    "checks": {
                        "$ref": "#/components/schemas/ValidationCheck"
                    },
                    "errors": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Errors"
                    },
                    "warnings": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Warnings"
                    }
                },
                "type": "object",
                "required": [
                    "source_collection",
                    "target_collection",
                    "valid",
                    "checks"
                ],
                "title": "ValidationResponse",
                "description": "Response model for backup validation."
            },
            "WebhookResponse": {
                "properties": {
                    "received": {
                        "type": "boolean",
                        "title": "Received",
                        "description": "Whether webhook was received successfully",
                        "default": true
                    },
                    "processed": {
                        "type": "boolean",
                        "title": "Processed",
                        "description": "Whether webhook was processed successfully"
                    },
                    "event_type": {
                        "type": "string",
                        "title": "Event Type",
                        "description": "Stripe event type"
                    }
                },
                "type": "object",
                "required": [
                    "processed",
                    "event_type"
                ],
                "title": "WebhookResponse",
                "description": "Response model for webhook processing."
            }
        },
        "securitySchemes": {
            "OAuth2PasswordBearer": {
                "type": "oauth2",
                "flows": {
                    "password": {
                        "scopes": {},
                        "tokenUrl": "https://api.ontologic.dev/auth/jwt/login"
                    }
                }
            }
        }
    }
}
